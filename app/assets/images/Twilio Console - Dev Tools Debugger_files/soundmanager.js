function Animator(t){this.setOptions(t);var e=this;this.timerDelegate=function(){e.onTimerEvent()},this.subjects=[],this.subjectScopes=[],this.target=0,this.state=0,this.lastTime=null}function NumericalStyleSubject(t,e,a,n,i){this.els=Animator.makeArray(t),"opacity"==e&&window.ActiveXObject?this.property="filter":this.property=Animator.camelize(e),this.from=parseFloat(a),this.to=parseFloat(n),this.units=null!=i?i:"px"}function ColorStyleSubject(t,e,a,n){this.els=Animator.makeArray(t),this.property=Animator.camelize(e),this.to=this.expandColor(n),this.from=this.expandColor(a),this.origFrom=a,this.origTo=n}function DiscreteStyleSubject(t,e,a,n,i){this.els=Animator.makeArray(t),this.property=Animator.camelize(e),this.from=a,this.to=n,this.threshold=i||.5}function CSSStyleSubject(t,e,a){if(t=Animator.makeArray(t),this.subjects=[],0!=t.length){var n,i,o;if(a)o=this.parseStyle(e,t[0]),i=this.parseStyle(a,t[0]);else{i=this.parseStyle(e,t[0]),o={};for(n in i)o[n]=CSSStyleSubject.getStyle(t[0],n)}var n;for(n in o)o[n]==i[n]&&(delete o[n],delete i[n]);var n,s,r,l,u,d;for(n in o){var h=String(o[n]),c=String(i[n]);if(null!=i[n]){if(u=ColorStyleSubject.parseColor(h))d=ColorStyleSubject.parseColor(c),l=ColorStyleSubject;else if(h.match(CSSStyleSubject.numericalRe)&&c.match(CSSStyleSubject.numericalRe)){u=parseFloat(h),d=parseFloat(c),l=NumericalStyleSubject,r=CSSStyleSubject.numericalRe.exec(h);var f=CSSStyleSubject.numericalRe.exec(c);s=null!=r[1]?r[1]:null!=f[1]?f[1]:f}else{if(!h.match(CSSStyleSubject.discreteRe)||!c.match(CSSStyleSubject.discreteRe)){window.DEBUG&&alert("Unrecognised format for value of "+n+": '"+o[n]+"'");continue}u=h,d=c,l=DiscreteStyleSubject,s=0}this.subjects[this.subjects.length]=new l(t,n,u,d,s)}else window.DEBUG&&alert("No to style provided for '"+n+'"')}}}function AnimatorChain(t,e){this.animators=t,this.setOptions(e);for(var a=0;a<this.animators.length;a++)this.listenTo(this.animators[a]);this.forwards=!1,this.current=0}function Accordion(t){this.setOptions(t);var e,a=this.options.initialSection;this.options.rememberance&&(e=document.location.hash.substring(1)),this.rememberanceTexts=[],this.ans=[];for(var n=this,i=0;i<this.options.sections.length;i++){var o=this.options.sections[i],s=new Animator(this.options.animatorOptions),r=this.options.from+this.options.shift*i,l=this.options.to+this.options.shift*i;s.addSubject(new NumericalStyleSubject(o,this.options.property,r,l,this.options.units)),s.jumpTo(0);var u=this.options.getActivator(o);u.index=i,u.onclick=function(){n.show(this.index)},this.ans[this.ans.length]=s,this.rememberanceTexts[i]=u.innerHTML.replace(/\s/g,""),this.rememberanceTexts[i]===e&&(a=i)}this.show(a)}document.createElement("canvas").getContext||!function(){function t(){return this.context_||(this.context_=new u(this))}function e(t,e,a){var n=b.call(arguments,2);return function(){return t.apply(e,n.concat(b.call(arguments)))}}function a(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function n(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function i(){return[[1,0,0],[0,1,0],[0,0,1]]}function o(t,e){for(var a=i(),n=0;n<3;n++)for(var o=0;o<3;o++){for(var s=0,r=0;r<3;r++)s+=t[n][r]*e[r][o];a[n][o]=s}return a}function s(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function r(t){var e,a=1;if(t=String(t),"rgb"==t.substring(0,3)){var n=t.indexOf("(",3),i=t.indexOf(")",n+1),o=t.substring(n+1,i).split(",");e="#";for(var s=0;s<3;s++)e+=w[Number(o[s])];4==o.length&&"a"==t.substr(3,1)&&(a=o[3])}else e=t;return{color:e,alpha:a}}function l(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function u(t){this.m_=i(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*v,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.overflow="hidden",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function d(t,e,a,n){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:a.x,cp2y:a.y,x:n.x,y:n.y}),t.currentX_=n.x,t.currentY_=n.y}function h(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function c(){}var f=Math,p=f.round,m=f.sin,g=f.cos,y=f.abs,_=f.sqrt,v=10,S=v/2,b=Array.prototype.slice,C={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var a=t||document;a.createElement("canvas"),a.attachEvent("onreadystatechange",e(this.init_,this,a))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var a=t.getElementsByTagName("canvas"),n=0;n<a.length;n++)this.initElement(a[n])},initElement:function(e){if(!e.getContext){e.getContext=t,e.innerHTML="",e.attachEvent("onpropertychange",a),e.attachEvent("onresize",n);var i=e.attributes;i.width&&i.width.specified?e.style.width=i.width.nodeValue+"px":e.width=e.clientWidth,i.height&&i.height.specified?e.style.height=i.height.nodeValue+"px":e.height=e.clientHeight}return e}};C.init();for(var w=[],T=0;T<16;T++)for(var M=0;M<16;M++)w[16*T+M]=T.toString(16)+M.toString(16);var x=u.prototype;x.clearRect=function(){this.element_.innerHTML=""},x.beginPath=function(){this.currentPath_=[]},x.moveTo=function(t,e){var a=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},x.lineTo=function(t,e){var a=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},x.bezierCurveTo=function(t,e,a,n,i,o){var s=this.getCoords_(i,o),r=this.getCoords_(t,e),l=this.getCoords_(a,n);d(this,r,l,s)},x.quadraticCurveTo=function(t,e,a,n){var i=this.getCoords_(t,e),o=this.getCoords_(a,n),s={x:this.currentX_+2/3*(i.x-this.currentX_),y:this.currentY_+2/3*(i.y-this.currentY_)},r={x:s.x+(o.x-this.currentX_)/3,y:s.y+(o.y-this.currentY_)/3};d(this,s,r,o)},x.arc=function(t,e,a,n,i,o){a*=v;var s=o?"at":"wa",r=t+g(n)*a-S,l=e+m(n)*a-S,u=t+g(i)*a-S,d=e+m(i)*a-S;r!=u||o||(r+=.125);var h=this.getCoords_(t,e),c=this.getCoords_(r,l),f=this.getCoords_(u,d);this.currentPath_.push({type:s,x:h.x,y:h.y,radius:a,xStart:c.x,yStart:c.y,xEnd:f.x,yEnd:f.y})},x.rect=function(t,e,a,n){this.moveTo(t,e),this.lineTo(t+a,e),this.lineTo(t+a,e+n),this.lineTo(t,e+n),this.closePath()},x.strokeRect=function(t,e,a,n){var i=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+a,e),this.lineTo(t+a,e+n),this.lineTo(t,e+n),this.closePath(),this.stroke(),this.currentPath_=i},x.fillRect=function(t,e,a,n){var i=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+a,e),this.lineTo(t+a,e+n),this.lineTo(t,e+n),this.closePath(),this.fill(),this.currentPath_=i},x.createLinearGradient=function(t,e,a,n){var i=new h("gradient");return i.x0_=t,i.y0_=e,i.x1_=a,i.y1_=n,i},x.createRadialGradient=function(t,e,a,n,i,o){var s=new h("gradientradial");return s.x0_=t,s.y0_=e,s.r0_=a,s.x1_=n,s.y1_=i,s.r1_=o,s},x.drawImage=function(t,e){var a,n,i,o,s,r,l,u,d=t.runtimeStyle.width,h=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,m=t.height;if(t.runtimeStyle.width=d,t.runtimeStyle.height=h,3==arguments.length)a=arguments[1],n=arguments[2],s=r=0,l=i=c,u=o=m;else if(5==arguments.length)a=arguments[1],n=arguments[2],i=arguments[3],o=arguments[4],s=r=0,l=c,u=m;else{if(9!=arguments.length)throw Error("Invalid number of arguments");s=arguments[1],r=arguments[2],l=arguments[3],u=arguments[4],a=arguments[5],n=arguments[6],i=arguments[7],o=arguments[8]}var g=this.getCoords_(a,n),y=[],_=10,S=10;if(y.push(" <g_vml_:group",' coordsize="',v*_,",",v*S,'"',' coordorigin="0,0"',' style="width:',_,"px;height:",S,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var b=[];b.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",p(g.x/v),",","Dy=",p(g.y/v),"");var C=g,w=this.getCoords_(a+i,n),T=this.getCoords_(a,n+o),M=this.getCoords_(a+i,n+o);C.x=f.max(C.x,w.x,T.x,M.x),C.y=f.max(C.y,w.y,T.y,M.y),y.push("padding:0 ",p(C.x/v),"px ",p(C.y/v),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",b.join(""),", sizingmethod='clip');")}else y.push("top:",p(g.y/v),"px;left:",p(g.x/v),"px;");y.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',v*i,"px;"," height:",v*o,'px;"',' cropleft="',s/c,'"',' croptop="',r/m,'"',' cropright="',(c-s-l)/c,'"',' cropbottom="',(m-r-u)/m,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",y.join(""))},x.stroke=function(t){var e=[],a=r(t?this.fillStyle:this.strokeStyle),n=a.color,i=a.alpha*this.globalAlpha,o=10,s=10;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',o,"px;height:",s,'px;"',' coordorigin="0 0" coordsize="',v*o," ",v*s,'"',' stroked="',!t,'"',' path="');for(var u={x:null,y:null},d={x:null,y:null},h=0;h<this.currentPath_.length;h++){var c,m=this.currentPath_[h];switch(m.type){case"moveTo":c=m,e.push(" m ",p(m.x),",",p(m.y));break;case"lineTo":e.push(" l ",p(m.x),",",p(m.y));break;case"close":e.push(" x "),m=null;break;case"bezierCurveTo":e.push(" c ",p(m.cp1x),",",p(m.cp1y),",",p(m.cp2x),",",p(m.cp2y),",",p(m.x),",",p(m.y));break;case"at":case"wa":e.push(" ",m.type," ",p(m.x-this.arcScaleX_*m.radius),",",p(m.y-this.arcScaleY_*m.radius)," ",p(m.x+this.arcScaleX_*m.radius),",",p(m.y+this.arcScaleY_*m.radius)," ",p(m.xStart),",",p(m.yStart)," ",p(m.xEnd),",",p(m.yEnd))}m&&((null==u.x||m.x<u.x)&&(u.x=m.x),(null==d.x||m.x>d.x)&&(d.x=m.x),(null==u.y||m.y<u.y)&&(u.y=m.y),(null==d.y||m.y>d.y)&&(d.y=m.y))}if(e.push(' ">'),t)if("object"==typeof this.fillStyle){var g=this.fillStyle,y=0,_={x:0,y:0},S=0,b=1;if("gradient"==g.type_){var C=g.x0_/this.arcScaleX_,w=g.y0_/this.arcScaleY_,T=g.x1_/this.arcScaleX_,M=g.y1_/this.arcScaleY_,x=this.getCoords_(C,w),O=this.getCoords_(T,M),P=O.x-x.x,D=O.y-x.y;y=180*Math.atan2(P,D)/Math.PI,y<0&&(y+=360),y<1e-6&&(y=0)}else{var x=this.getCoords_(g.x0_,g.y0_),L=d.x-u.x,E=d.y-u.y;_={x:(x.x-u.x)/L,y:(x.y-u.y)/E},L/=this.arcScaleX_*v,E/=this.arcScaleY_*v;var I=f.max(L,E);S=2*g.r0_/I,b=2*g.r1_/I-S}var k=g.colors_;k.sort(function(t,e){return t.offset-e.offset});for(var A=k.length,N=k[0].color,H=k[A-1].color,F=k[0].alpha*this.globalAlpha,R=k[A-1].alpha*this.globalAlpha,j=[],h=0;h<A;h++){var B=k[h];j.push(B.offset*b+S+" "+B.color)}e.push('<g_vml_:fill type="',g.type_,'"',' method="none" focus="100%"',' color="',N,'"',' color2="',H,'"',' colors="',j.join(","),'"',' opacity="',R,'"',' g_o_:opacity2="',F,'"',' angle="',y,'"',' focusposition="',_.x,",",_.y,'" />')}else e.push('<g_vml_:fill color="',n,'" opacity="',i,'" />');else{var U=this.lineScale_*this.lineWidth;U<1&&(i*=U),e.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',l(this.lineCap),'"',' weight="',U,'px"',' color="',n,'" />')}e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},x.fill=function(){this.stroke(!0)},x.closePath=function(){this.currentPath_.push({type:"close"})},x.getCoords_=function(t,e){var a=this.m_;return{x:v*(t*a[0][0]+e*a[1][0]+a[2][0])-S,y:v*(t*a[0][1]+e*a[1][1]+a[2][1])-S}},x.save=function(){var t={};s(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=o(i(),this.m_)},x.restore=function(){s(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},x.translate=function(t,e){var a=[[1,0,0],[0,1,0],[t,e,1]];this.m_=o(a,this.m_)},x.rotate=function(t){var e=g(t),a=m(t),n=[[e,a,0],[-a,e,0],[0,0,1]];this.m_=o(n,this.m_)},x.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e;var a=[[t,0,0],[0,e,0],[0,0,1]],n=this.m_=o(a,this.m_),i=n[0][0]*n[1][1]-n[0][1]*n[1][0];this.lineScale_=_(y(i))},x.clip=function(){},x.arcTo=function(){},x.createPattern=function(){return new c},h.prototype.addColorStop=function(t,e){e=r(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=C,CanvasRenderingContext2D=u,CanvasGradient=h,CanvasPattern=c}(),Animator.prototype={setOptions:function(t){this.options=Animator.applyDefaults({interval:20,duration:400,onComplete:function(){},onStep:function(){},transition:Animator.tx.easeInOut},t)},seekTo:function(t){this.seekFromTo(this.state,t)},seekFromTo:function(t,e){this.target=Math.max(0,Math.min(1,e)),this.state=Math.max(0,Math.min(1,t)),this.lastTime=(new Date).getTime(),this.intervalId||(this.intervalId=window.setInterval(this.timerDelegate,this.options.interval))},jumpTo:function(t){this.target=this.state=Math.max(0,Math.min(1,t)),this.propagate()},toggle:function(){this.seekTo(1-this.target)},addSubject:function(t,e){return this.subjects[this.subjects.length]=t,this.subjectScopes[this.subjectScopes.length]=e,this},clearSubjects:function(){this.subjects=[],this.subjectScopes=[]},propagate:function(){for(var t=this.options.transition(this.state),e=0;e<this.subjects.length;e++)this.subjects[e].setState?this.subjects[e].setState(t):this.subjects[e].apply(this.subjectScopes[e],[t])},onTimerEvent:function(){var t=(new Date).getTime(),e=t-this.lastTime;this.lastTime=t;var a=e/this.options.duration*(this.state<this.target?1:-1);Math.abs(a)>=Math.abs(this.state-this.target)?this.state=this.target:this.state+=a;try{this.propagate()}finally{this.options.onStep.call(this),this.target==this.state&&(window.clearInterval(this.intervalId),this.intervalId=null,this.options.onComplete.call(this))}},play:function(){this.seekFromTo(0,1)},reverse:function(){this.seekFromTo(1,0)},inspect:function(){for(var t="#<Animator:\n",e=0;e<this.subjects.length;e++)t+=this.subjects[e].inspect();return t+=">"}},Animator.applyDefaults=function(t,e){e=e||{};var a,n={};for(a in t)n[a]=void 0!==e[a]?e[a]:t[a];return n},Animator.makeArray=function(t){if(null==t)return[];if(!t.length)return[t];for(var e=[],a=0;a<t.length;a++)e[a]=t[a];return e},Animator.camelize=function(t){var e=t.split("-");if(1==e.length)return e[0];for(var a=0==t.indexOf("-")?e[0].charAt(0).toUpperCase()+e[0].substring(1):e[0],n=1,i=e.length;n<i;n++){var o=e[n];a+=o.charAt(0).toUpperCase()+o.substring(1)}return a},Animator.apply=function(t,e,a){return e instanceof Array?new Animator(a).addSubject(new CSSStyleSubject(t,e[0],e[1])):new Animator(a).addSubject(new CSSStyleSubject(t,e))},Animator.makeEaseIn=function(t){return function(e){return Math.pow(e,2*t)}},Animator.makeEaseOut=function(t){return function(e){return 1-Math.pow(1-e,2*t)}},Animator.makeElastic=function(t){return function(e){return e=Animator.tx.easeInOut(e),(1-Math.cos(e*Math.PI*t))*(1-e)+e}},Animator.makeADSR=function(t,e,a,n){return null==n&&(n=.5),function(i){return i<t?i/t:i<e?1-(i-t)/(e-t)*(1-n):i<a?n:n*(1-(i-a)/(1-a))}},Animator.makeBounce=function(t){var e=Animator.makeElastic(t);return function(t){return t=e(t),t<=1?t:2-t}},Animator.tx={easeInOut:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t},easeIn:Animator.makeEaseIn(1.5),easeOut:Animator.makeEaseOut(1.5),strongEaseIn:Animator.makeEaseIn(2.5),strongEaseOut:Animator.makeEaseOut(2.5),elastic:Animator.makeElastic(1),veryElastic:Animator.makeElastic(3),bouncy:Animator.makeBounce(1),veryBouncy:Animator.makeBounce(3)},NumericalStyleSubject.prototype={setState:function(t){for(var e=this.getStyle(t),a=("opacity"==this.property&&0==t?"hidden":"",0),n=0;n<this.els.length;n++){try{this.els[n].style[this.property]=e}catch(i){if("fontWeight"!=this.property)throw i}if(a++>20)return}},getStyle:function(t){return t=this.from+(this.to-this.from)*t,"filter"==this.property?"alpha(opacity="+Math.round(100*t)+")":"opacity"==this.property?t:Math.round(t)+this.units},inspect:function(){return"\t"+this.property+"("+this.from+this.units+" to "+this.to+this.units+")\n"}},ColorStyleSubject.prototype={expandColor:function(t){var e,a,n,i;return(e=ColorStyleSubject.parseColor(t))?(a=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16),[a,n,i]):void(window.DEBUG&&alert("Invalid colour: '"+t+"'"))},getValueForState:function(t,e){return Math.round(this.from[t]+(this.to[t]-this.from[t])*e)},setState:function(t){for(var e="#"+ColorStyleSubject.toColorPart(this.getValueForState(0,t))+ColorStyleSubject.toColorPart(this.getValueForState(1,t))+ColorStyleSubject.toColorPart(this.getValueForState(2,t)),a=0;a<this.els.length;a++)this.els[a].style[this.property]=e},inspect:function(){return"\t"+this.property+"("+this.origFrom+" to "+this.origTo+")\n"}},ColorStyleSubject.parseColor=function(t){var e,a="#";if(e=ColorStyleSubject.parseColor.rgbRe.exec(t)){for(var n,i=1;i<=3;i++)n=Math.max(0,Math.min(255,parseInt(e[i]))),a+=ColorStyleSubject.toColorPart(n);return a}if(e=ColorStyleSubject.parseColor.hexRe.exec(t)){if(3==e[1].length){for(var i=0;i<3;i++)a+=e[1].charAt(i)+e[1].charAt(i);return a}return"#"+e[1]}return!1},ColorStyleSubject.toColorPart=function(t){t>255&&(t=255);var e=t.toString(16);return t<16?"0"+e:e},ColorStyleSubject.parseColor.rgbRe=/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i,ColorStyleSubject.parseColor.hexRe=/^\#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,DiscreteStyleSubject.prototype={setState:function(t){for(var e=0;e<this.els.length;e++)this.els[e].style[this.property]=t<=this.threshold?this.from:this.to},inspect:function(){return"\t"+this.property+"("+this.from+" to "+this.to+" @ "+this.threshold+")\n"}},CSSStyleSubject.prototype={parseStyle:function(t,e){var a={};if(t.indexOf(":")!=-1)for(var n=t.split(";"),i=0;i<n.length;i++){var o=CSSStyleSubject.ruleRe.exec(n[i]);o&&(a[o[1]]=o[2])}else{var s,r,l;l=e.className,e.className=t;for(var i=0;i<CSSStyleSubject.cssProperties.length;i++)s=CSSStyleSubject.cssProperties[i],r=CSSStyleSubject.getStyle(e,s),null!=r&&(a[s]=r);e.className=l}return a},setState:function(t){for(var e=0;e<this.subjects.length;e++)this.subjects[e].setState(t)},inspect:function(){for(var t="",e=0;e<this.subjects.length;e++)t+=this.subjects[e].inspect();return t}},CSSStyleSubject.getStyle=function(t,e){var a;return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(t,"").getPropertyValue(e))?a:(e=Animator.camelize(e),t.currentStyle&&(a=t.currentStyle[e]),a||t.style[e])},CSSStyleSubject.ruleRe=/^\s*([a-zA-Z\-]+)\s*:\s*(\S(.+\S)?)\s*$/,CSSStyleSubject.numericalRe=/^-?\d+(?:\.\d+)?(%|[a-zA-Z]{2})?$/,CSSStyleSubject.discreteRe=/^\w+$/,CSSStyleSubject.cssProperties=["azimuth","background","background-attachment","background-color","background-image","background-position","background-repeat","border-collapse","border-color","border-spacing","border-style","border-top","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width","border-width","bottom","clear","clip","color","content","cursor","direction","display","elevation","empty-cells","css-float","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","height","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-top","margin-right","margin-bottom","margin-left","max-height","max-width","min-height","min-width","orphans","outline","outline-color","outline-style","outline-width","overflow","padding","padding-top","padding-right","padding-bottom","padding-left","pause","position","right","size","table-layout","text-align","text-decoration","text-indent","text-shadow","text-transform","top","vertical-align","visibility","white-space","width","word-spacing","z-index","opacity","outline-offset","overflow-x","overflow-y"],AnimatorChain.prototype={setOptions:function(t){this.options=Animator.applyDefaults({resetOnPlay:!0},t)},play:function(){if(this.forwards=!0,this.current=-1,this.options.resetOnPlay)for(var t=0;t<this.animators.length;t++)this.animators[t].jumpTo(0);this.advance()},reverse:function(){if(this.forwards=!1,this.current=this.animators.length,this.options.resetOnPlay)for(var t=0;t<this.animators.length;t++)this.animators[t].jumpTo(1);this.advance()},toggle:function(){this.forwards?this.seekTo(0):this.seekTo(1)},listenTo:function(t){var e=t.options.onComplete,a=this;t.options.onComplete=function(){e&&e.call(t),a.advance()}},advance:function(){if(this.forwards){if(null==this.animators[this.current+1])return;this.current++,this.animators[this.current].play()}else{if(null==this.animators[this.current-1])return;this.current--,this.animators[this.current].reverse()}},seekTo:function(t){t<=0?(this.forwards=!1,this.animators[this.current].seekTo(0)):(this.forwards=!0,this.animators[this.current].seekTo(1))}},Accordion.prototype={setOptions:function(t){this.options=Object.extend({sections:null,getActivator:function(t){return document.getElementById(t.getAttribute("activator"))},shift:0,initialSection:0,rememberance:!0,animatorOptions:{}},t||{})},show:function(t){for(var e=0;e<this.ans.length;e++)this.ans[e].seekTo(e>t?1:0);this.options.rememberance&&(document.location.hash=this.rememberanceTexts[t])}},function(t,e){function a(a,n){function i(t){return lt.preferFlash&&nt&&!lt.ignoreFlash&&lt.flash[t]!==e&&lt.flash[t]}function o(t){return function(e){var a=this._s;return a&&a._a?t.call(this,e):null}}this.setupOptions={url:a||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=n||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20130512",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var s,r,l,u,d,h,c,f,p,m,g,y,_,v,S,b,C,w,T,M,x,O,P,D,L,E,I,k,A,N,H,F,R,j,B,U,V,W,X,q,z,Y,$,Q,G,J,K,Z,tt,et,at,nt,it,ot,st,rt,lt=this,ut=null,dt=null,ht=navigator.userAgent,ct=t.location.href.toString(),ft=document,pt=[],mt=!1,gt=!1,yt=!1,_t=!1,vt=!1,St=null,bt=null,Ct=!1,wt=!1,Tt=0,Mt=null,xt=[],Ot=null,Pt=Array.prototype.slice,Dt=!1,Lt=0,Et=ht.match(/(ipad|iphone|ipod)/i),It=ht.match(/android/i),kt=ht.match(/msie/i),At=ht.match(/webkit/i),Nt=ht.match(/safari/i)&&!ht.match(/chrome/i),Ht=ht.match(/opera/i),Ft=ht.match(/firefox/i),Rt=ht.match(/(mobile|pre\/|xoom)/i)||Et||It,jt=!ct.match(/usehtml5audio/i)&&!ct.match(/sm2\-ignorebadua/i)&&Nt&&!ht.match(/silk/i)&&ht.match(/OS X 10_6_([3-7])/i),Bt=ft.hasFocus!==e?ft.hasFocus():null,Ut=Nt&&(ft.hasFocus===e||!ft.hasFocus()),Vt=!Ut,Wt=/(mp3|mp4|mpa|m4a|m4b)/i,Xt=ft.location?ft.location.protocol.match(/http/i):null,qt=Xt?"":"http://",zt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Yt="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),$t=RegExp("\\.("+Yt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Xt;var Qt;try{Qt=Audio!==e&&(Ht&&opera!==e&&10>opera.version()?new Audio(null):new Audio).canPlayType!==e}catch(Gt){Qt=!1}this.hasHTML5=Qt,this.setup=function(t){var a=!lt.url;return t!==e&&yt&&Ot&&lt.ok(),p(t),t&&(a&&P&&t.url!==e&&lt.beginDelayedInit(),!P&&t.url!==e&&"complete"===ft.readyState&&setTimeout(x,1)),lt},this.supported=this.ok=function(){return Ot?yt&&!_t:lt.useHTML5Audio&&lt.hasHTML5},this.getMovie=function(e){return r(e)||ft[e]||t[e]},this.createSound=function(t,a){function n(){return i=B(i),lt.sounds[i.id]=new s(i),lt.soundIDs.push(i.id),lt.sounds[i.id]}var i,o=null;if(!yt||!lt.ok())return!1;if(a!==e&&(t={id:t,url:a}),i=f(t),i.url=z(i.url),void 0===i.id&&(i.id=lt.setupOptions.idPrefix+Lt++),V(i.id,!0))return lt.sounds[i.id];if(Q(i))o=n(),o._setup_html5(i);else{if(lt.html5Only||lt.html5.usingFlash&&i.url&&i.url.match(/data\:/i))return n();8<h&&null===i.isMovieStar&&(i.isMovieStar=!(!i.serverURL&&!(i.type&&i.type.match(zt)||i.url&&i.url.match($t)))),i=U(i,void 0),o=n(),8===h?dt._createSound(i.id,i.loops||1,i.usePolicyFile):(dt._createSound(i.id,i.url,i.usePeakData,i.useWaveformData,i.useEQData,i.isMovieStar,!!i.isMovieStar&&i.bufferTime,i.loops||1,i.serverURL,i.duration||null,i.autoPlay,!0,i.autoLoad,i.usePolicyFile),i.serverURL||(o.connected=!0,i.onconnect&&i.onconnect.apply(o))),!i.serverURL&&(i.autoLoad||i.autoPlay)&&o.load(i)}return!i.serverURL&&i.autoPlay&&o.play(),o},this.destroySound=function(t,e){if(!V(t))return!1;var a,n=lt.sounds[t];for(n._iO={},n.stop(),n.unload(),a=0;a<lt.soundIDs.length;a++)if(lt.soundIDs[a]===t){lt.soundIDs.splice(a,1);break}return e||n.destruct(!0),delete lt.sounds[t],!0},this.load=function(t,e){return!!V(t)&&lt.sounds[t].load(e)},this.unload=function(t){return!!V(t)&&lt.sounds[t].unload()},this.onposition=this.onPosition=function(t,e,a,n){return!!V(t)&&lt.sounds[t].onposition(e,a,n)},this.clearOnPosition=function(t,e,a){return!!V(t)&&lt.sounds[t].clearOnPosition(e,a)},this.start=this.play=function(t,e){var a=null,n=e&&!(e instanceof Object);if(!yt||!lt.ok())return!1;if(V(t,n))n&&(e={url:e});else{if(!n)return!1;n&&(e={url:e}),e&&e.url&&(e.id=t,a=lt.createSound(e).play())}return null===a&&(a=lt.sounds[t].play(e)),a},this.setPosition=function(t,e){return!!V(t)&&lt.sounds[t].setPosition(e)},this.stop=function(t){return!!V(t)&&lt.sounds[t].stop()},this.stopAll=function(){for(var t in lt.sounds)lt.sounds.hasOwnProperty(t)&&lt.sounds[t].stop()},this.pause=function(t){return!!V(t)&&lt.sounds[t].pause()},this.pauseAll=function(){var t;for(t=lt.soundIDs.length-1;0<=t;t--)lt.sounds[lt.soundIDs[t]].pause()},this.resume=function(t){return!!V(t)&&lt.sounds[t].resume()},this.resumeAll=function(){var t;for(t=lt.soundIDs.length-1;0<=t;t--)lt.sounds[lt.soundIDs[t]].resume()},this.togglePause=function(t){return!!V(t)&&lt.sounds[t].togglePause()},this.setPan=function(t,e){return!!V(t)&&lt.sounds[t].setPan(e)},this.setVolume=function(t,e){return!!V(t)&&lt.sounds[t].setVolume(e)},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return!!V(t)&&lt.sounds[t].mute();for(e=lt.soundIDs.length-1;0<=e;e--)lt.sounds[lt.soundIDs[e]].mute();return lt.muted=!0},this.muteAll=function(){lt.mute()},this.unmute=function(t){if(t instanceof String&&(t=null),t)return!!V(t)&&lt.sounds[t].unmute();for(t=lt.soundIDs.length-1;0<=t;t--)lt.sounds[lt.soundIDs[t]].unmute();return lt.muted=!1,!0},this.unmuteAll=function(){lt.unmute()},this.toggleMute=function(t){return!!V(t)&&lt.sounds[t].toggleMute()},this.getMemoryUse=function(){var t=0;return dt&&8!==h&&(t=parseInt(dt._getMemoryUse(),10)),t},this.disable=function(a){var n;if(a===e&&(a=!1),_t)return!1;for(_t=!0,n=lt.soundIDs.length-1;0<=n;n--)A(lt.sounds[lt.soundIDs[n]]);return c(a),et.remove(t,"load",_),!0},this.canPlayMIME=function(t){var e;return lt.hasHTML5&&(e=G({type:t})),!e&&Ot&&(e=t&&lt.ok()?!!(8<h&&t.match(zt)||t.match(lt.mimePattern)):null),e},this.canPlayURL=function(t){var e;return lt.hasHTML5&&(e=G({url:t})),!e&&Ot&&(e=t&&lt.ok()?!!t.match(lt.filePattern):null),e},this.canPlayLink=function(t){return!(t.type===e||!t.type||!lt.canPlayMIME(t.type))||lt.canPlayURL(t.href)},this.getSoundById=function(t,e){return t?lt.sounds[t]:null},this.onready=function(e,a){if("function"!=typeof e)throw F("needFunction","onready");return a||(a=t),g("onready",e,a),y(),!0},this.ontimeout=function(e,a){if("function"!=typeof e)throw F("needFunction","ontimeout");return a||(a=t),g("ontimeout",e,a),y({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(t,e){return!0},this._debug=function(){},this.reboot=function(e,a){var n,i,o;for(n=lt.soundIDs.length-1;0<=n;n--)lt.sounds[lt.soundIDs[n]].destruct();if(dt)try{kt&&(bt=dt.innerHTML),St=dt.parentNode.removeChild(dt)}catch(s){}if(bt=St=Ot=dt=null,lt.enabled=P=yt=Ct=wt=mt=gt=_t=Dt=lt.swfLoaded=!1,lt.soundIDs=[],lt.sounds={},Lt=0,e)pt=[];else for(n in pt)if(pt.hasOwnProperty(n))for(i=0,o=pt[n].length;i<o;i++)pt[n][i].fired=!1;return lt.html5={usingFlash:null},lt.flash={},lt.html5Only=!1,lt.ignoreFlash=!1,t.setTimeout(function(){M(),a||lt.beginDelayedInit()},20),lt},this.reset=function(){return lt.reboot(!0,!0)},this.getMoviePercent=function(){return dt&&"PercentLoaded"in dt?dt.PercentLoaded():null},this.beginDelayedInit=function(){vt=!0,x(),setTimeout(function(){return!wt&&(L(),T(),wt=!0)},20),v()},this.destruct=function(){lt.disable(!0)},s=function(t){var a,n,i,o,s,r,l,u,d,c,p,m=this,g=!1,y=[],_=0,v=null;n=a=null,this.sID=this.id=t.id,this.url=t.url,this._iO=this.instanceOptions=this.options=f(t),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,p=!this.url,this.id3={},this._debug=function(){},this.load=function(t){var a,n=null;if(t!==e?m._iO=f(t,m.options):(t=m.options,m._iO=t,v&&v!==m.url&&(m._iO.url=m.url,m.url=null)),m._iO.url||(m._iO.url=m.url),m._iO.url=z(m._iO.url),a=m.instanceOptions=m._iO,!a.url&&!m.url)return m;if(a.url===m.url&&0!==m.readyState&&2!==m.readyState)return 3===m.readyState&&a.onload&&rt(m,function(){a.onload.apply(m,[!!m.duration])}),m;if(m.loaded=!1,m.readyState=1,m.playState=0,m.id3={},Q(a))n=m._setup_html5(a),n._called_load||(m._html5_canplay=!1,m.url!==a.url&&(m._a.src=a.url,m.setPosition(0)),m._a.autobuffer="auto",m._a.preload="auto",m._a._called_load=!0,a.autoPlay&&m.play());else{if(lt.html5Only||m._iO.url&&m._iO.url.match(/data\:/i))return m;try{m.isHTML5=!1,m._iO=U(B(a)),a=m._iO,8===h?dt._load(m.id,a.url,a.stream,a.autoPlay,a.usePolicyFile):dt._load(m.id,a.url,!!a.stream,!!a.autoPlay,a.loops||1,!!a.autoLoad,a.usePolicyFile);
}catch(i){E({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return m.url=a.url,m},this.unload=function(){return 0!==m.readyState&&(m.isHTML5?(r(),m._a&&(m._a.pause(),v=K(m._a))):8===h?dt._unload(m.id,"about:blank"):dt._unload(m.id),i()),m},this.destruct=function(t){m.isHTML5?(r(),m._a&&(m._a.pause(),K(m._a),Dt||s(),m._a._s=null,m._a=null)):(m._iO.onfailure=null,dt._destroySound(m.id)),t||lt.destroySound(m.id,!0)},this.start=this.play=function(t,a){var n,i,o,s,r;if(i=!0,i=null,a=a===e||a,t||(t={}),m.url&&(m._iO.url=m.url),m._iO=f(m._iO,m.options),m._iO=f(t,m._iO),m._iO.url=z(m._iO.url),m.instanceOptions=m._iO,!m.isHTML5&&m._iO.serverURL&&!m.connected)return m.getAutoPlay()||m.setAutoPlay(!0),m;if(Q(m._iO)&&(m._setup_html5(m._iO),l()),1===m.playState&&!m.paused&&(n=m._iO.multiShot,n||(m.isHTML5&&m.setPosition(m._iO.position),i=m)),null!==i)return i;if(t.url&&t.url!==m.url&&(m.readyState||m.isHTML5||8!==h||!p?m.load(m._iO):p=!1),m.loaded||(0===m.readyState?(m.isHTML5||lt.html5Only?m.isHTML5?m.load(m._iO):i=m:(m._iO.autoPlay=!0,m.load(m._iO)),m.instanceOptions=m._iO):2===m.readyState&&(i=m)),null!==i)return i;if(!m.isHTML5&&9===h&&0<m.position&&m.position===m.duration&&(t.position=0),m.paused&&0<=m.position&&(!m._iO.serverURL||0<m.position))m.resume();else{if(m._iO=f(t,m._iO),null!==m._iO.from&&null!==m._iO.to&&0===m.instanceCount&&0===m.playState&&!m._iO.serverURL){if(n=function(){m._iO=f(t,m._iO),m.play(m._iO)},m.isHTML5&&!m._html5_canplay?(m.load({oncanplay:n}),i=!1):m.isHTML5||m.loaded||m.readyState&&2===m.readyState||(m.load({onload:n}),i=!1),null!==i)return i;m._iO=c()}(!m.instanceCount||m._iO.multiShotEvents||m.isHTML5&&m._iO.multiShot&&!Dt||!m.isHTML5&&8<h&&!m.getAutoPlay())&&m.instanceCount++,m._iO.onposition&&0===m.playState&&u(m),m.playState=1,m.paused=!1,m.position=m._iO.position===e||isNaN(m._iO.position)?0:m._iO.position,m.isHTML5||(m._iO=U(B(m._iO))),m._iO.onplay&&a&&(m._iO.onplay.apply(m),g=!0),m.setVolume(m._iO.volume,!0),m.setPan(m._iO.pan,!0),m.isHTML5?2>m.instanceCount?(l(),i=m._setup_html5(),m.setPosition(m._iO.position),i.play()):(o=new Audio(m._iO.url),s=function(){et.remove(o,"onended",s),m._onfinish(m),K(o),o=null},r=function(){et.remove(o,"canplay",r);try{o.currentTime=m._iO.position/1e3}catch(t){}o.play()},et.add(o,"ended",s),m._iO.position?et.add(o,"canplay",r):o.play()):(i=dt._start(m.id,m._iO.loops||1,9===h?m.position:m.position/1e3,m._iO.multiShot||!1),9===h&&!i&&m._iO.onplayerror&&m._iO.onplayerror.apply(m))}return m},this.stop=function(t){var e=m._iO;return 1===m.playState&&(m._onbufferchange(0),m._resetOnPosition(0),m.paused=!1,m.isHTML5||(m.playState=0),d(),e.to&&m.clearOnPosition(e.to),m.isHTML5?m._a&&(t=m.position,m.setPosition(0),m.position=t,m._a.pause(),m.playState=0,m._onTimer(),r()):(dt._stop(m.id,t),e.serverURL&&m.unload()),m.instanceCount=0,m._iO={},e.onstop&&e.onstop.apply(m)),m},this.setAutoPlay=function(t){m._iO.autoPlay=t,m.isHTML5||(dt._setAutoPlay(m.id,t),t&&!m.instanceCount&&1===m.readyState&&m.instanceCount++)},this.getAutoPlay=function(){return m._iO.autoPlay},this.setPosition=function(t){t===e&&(t=0);var a=m.isHTML5?Math.max(t,0):Math.min(m.duration||m._iO.duration,Math.max(t,0));if(m.position=a,t=m.position/1e3,m._resetOnPosition(m.position),m._iO.position=a,m.isHTML5){if(m._a){if(m._html5_canplay){if(m._a.currentTime!==t)try{m._a.currentTime=t,(0===m.playState||m.paused)&&m._a.pause()}catch(n){}}else if(t)return m;m.paused&&m._onTimer(!0)}}else t=9===h?m.position:t,m.readyState&&2!==m.readyState&&dt._setPosition(m.id,t,m.paused||!m.playState,m._iO.multiShot);return m},this.pause=function(t){return m.paused||0===m.playState&&1!==m.readyState?m:(m.paused=!0,m.isHTML5?(m._setup_html5().pause(),r()):(t||t===e)&&dt._pause(m.id,m._iO.multiShot),m._iO.onpause&&m._iO.onpause.apply(m),m)},this.resume=function(){var t=m._iO;return m.paused?(m.paused=!1,m.playState=1,m.isHTML5?(m._setup_html5().play(),l()):(t.isMovieStar&&!t.serverURL&&m.setPosition(m.position),dt._pause(m.id,t.multiShot)),!g&&t.onplay?(t.onplay.apply(m),g=!0):t.onresume&&t.onresume.apply(m),m):m},this.togglePause=function(){return 0===m.playState?(m.play({position:9!==h||m.isHTML5?m.position/1e3:m.position}),m):(m.paused?m.resume():m.pause(),m)},this.setPan=function(t,a){return t===e&&(t=0),a===e&&(a=!1),m.isHTML5||dt._setPan(m.id,t),m._iO.pan=t,a||(m.pan=t,m.options.pan=t),m},this.setVolume=function(t,a){return t===e&&(t=100),a===e&&(a=!1),m.isHTML5?m._a&&(m._a.volume=Math.max(0,Math.min(1,t/100))):dt._setVolume(m.id,lt.muted&&!m.muted||m.muted?0:t),m._iO.volume=t,a||(m.volume=t,m.options.volume=t),m},this.mute=function(){return m.muted=!0,m.isHTML5?m._a&&(m._a.muted=!0):dt._setVolume(m.id,0),m},this.unmute=function(){m.muted=!1;var t=m._iO.volume!==e;return m.isHTML5?m._a&&(m._a.muted=!1):dt._setVolume(m.id,t?m._iO.volume:m.options.volume),m},this.toggleMute=function(){return m.muted?m.unmute():m.mute()},this.onposition=this.onPosition=function(t,a,n){return y.push({position:parseInt(t,10),method:a,scope:n!==e?n:m,fired:!1}),m},this.clearOnPosition=function(t,e){var a;if(t=parseInt(t,10),isNaN(t))return!1;for(a=0;a<y.length;a++)t!==y[a].position||e&&e!==y[a].method||(y[a].fired&&_--,y.splice(a,1))},this._processOnPosition=function(){var t,e;if(t=y.length,!t||!m.playState||_>=t)return!1;for(t-=1;0<=t;t--)e=y[t],!e.fired&&m.position>=e.position&&(e.fired=!0,_++,e.method.apply(e.scope,[e.position]));return!0},this._resetOnPosition=function(t){var e,a;if(e=y.length,!e)return!1;for(e-=1;0<=e;e--)a=y[e],a.fired&&t<=a.position&&(a.fired=!1,_--);return!0},c=function(){var t,e,a=m._iO,n=a.from,i=a.to;return e=function(){m.clearOnPosition(i,e),m.stop()},t=function(){null===i||isNaN(i)||m.onPosition(i,e)},null!==n&&!isNaN(n)&&(a.position=n,a.multiShot=!1,t()),a},u=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.onPosition(parseInt(t,10),e[t])},d=function(){var t,e=m._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&m.clearOnPosition(parseInt(t,10))},l=function(){m.isHTML5&&W(m)},r=function(){m.isHTML5&&X(m)},i=function(t){t||(y=[],_=0),g=!1,m._hasTimer=null,m._a=null,m._html5_canplay=!1,m.bytesLoaded=null,m.bytesTotal=null,m.duration=m._iO&&m._iO.duration?m._iO.duration:null,m.durationEstimate=null,m.buffered=[],m.eqData=[],m.eqData.left=[],m.eqData.right=[],m.failures=0,m.isBuffering=!1,m.instanceOptions={},m.instanceCount=0,m.loaded=!1,m.metadata={},m.readyState=0,m.muted=!1,m.paused=!1,m.peakData={left:0,right:0},m.waveformData={left:[],right:[]},m.playState=0,m.position=null,m.id3={}},i(),this._onTimer=function(t){var e,i=!1,o={};if(m._hasTimer||t)return m._a&&(t||(0<m.playState||1===m.readyState)&&!m.paused)&&(e=m._get_html5_duration(),e!==a&&(a=e,m.duration=e,i=!0),m.durationEstimate=m.duration,e=1e3*m._a.currentTime||0,e!==n&&(n=e,i=!0),(i||t)&&m._whileplaying(e,o,o,o,o)),i},this._get_html5_duration=function(){var t=m._iO;return(t=m._a&&m._a.duration?1e3*m._a.duration:t&&t.duration?t.duration:null)&&!isNaN(t)&&1/0!==t?t:null},this._apply_loop=function(t,e){t.loop=1<e?"loop":""},this._setup_html5=function(t){t=f(m._iO,t);var e,a=Dt?ut:m._a,n=decodeURI(t.url);if(Dt?n===decodeURI(at)&&(e=!0):n===decodeURI(v)&&(e=!0),a){if(a._s)if(Dt)a._s&&a._s.playState&&!e&&a._s.stop();else if(!Dt&&n===decodeURI(v))return m._apply_loop(a,t.loops),a;e||(i(!1),a.src=t.url,at=v=m.url=t.url,a._called_load=!1)}else m._a=t.autoLoad||t.autoPlay?new Audio(t.url):Ht&&10>opera.version()?new Audio(null):new Audio,a=m._a,a._called_load=!1,Dt&&(ut=a);return m.isHTML5=!0,m._a=a,a._s=m,o(),m._apply_loop(a,t.loops),t.autoLoad||t.autoPlay?m.load():(a.autobuffer=!1,a.preload="auto"),a},o=function(){if(m._a._added_events)return!1;var t;m._a._added_events=!0;for(t in st)st.hasOwnProperty(t)&&m._a&&m._a.addEventListener(t,st[t],!1);return!0},s=function(){var t;m._a._added_events=!1;for(t in st)st.hasOwnProperty(t)&&m._a&&m._a.removeEventListener(t,st[t],!1)},this._onload=function(t){var e=!!t||!m.isHTML5&&8===h&&m.duration;return m.loaded=e,m.readyState=e?3:2,m._onbufferchange(0),m._iO.onload&&rt(m,function(){m._iO.onload.apply(m,[e])}),!0},this._onbufferchange=function(t){return!(0===m.playState||t&&m.isBuffering||!t&&!m.isBuffering)&&(m.isBuffering=1===t,m._iO.onbufferchange&&m._iO.onbufferchange.apply(m),!0)},this._onsuspend=function(){return m._iO.onsuspend&&m._iO.onsuspend.apply(m),!0},this._onfailure=function(t,e,a){m.failures++,m._iO.onfailure&&1===m.failures&&m._iO.onfailure(m,t,e,a)},this._onfinish=function(){var t=m._iO.onfinish;m._onbufferchange(0),m._resetOnPosition(0),m.instanceCount&&(m.instanceCount--,m.instanceCount||(d(),m.playState=0,m.paused=!1,m.instanceCount=0,m.instanceOptions={},m._iO={},r(),m.isHTML5&&(m.position=0)),(!m.instanceCount||m._iO.multiShotEvents)&&t&&rt(m,function(){t.apply(m)}))},this._whileloading=function(t,e,a,n){var i=m._iO;m.bytesLoaded=t,m.bytesTotal=e,m.duration=Math.floor(a),m.bufferLength=n,m.durationEstimate=m.isHTML5||i.isMovieStar?m.duration:i.duration?m.duration>i.duration?m.duration:i.duration:parseInt(m.bytesTotal/m.bytesLoaded*m.duration,10),m.isHTML5||(m.buffered=[{start:0,end:m.duration}]),(3!==m.readyState||m.isHTML5)&&i.whileloading&&i.whileloading.apply(m)},this._whileplaying=function(t,a,n,i,o){var s=m._iO;return!isNaN(t)&&null!==t&&(m.position=Math.max(0,t),m._processOnPosition(),!m.isHTML5&&8<h&&(s.usePeakData&&a!==e&&a&&(m.peakData={left:a.leftPeak,right:a.rightPeak}),s.useWaveformData&&n!==e&&n&&(m.waveformData={left:n.split(","),right:i.split(",")}),s.useEQData&&o!==e&&o&&o.leftEQ&&(t=o.leftEQ.split(","),m.eqData=t,m.eqData.left=t,o.rightEQ!==e&&o.rightEQ&&(m.eqData.right=o.rightEQ.split(",")))),1===m.playState&&(!m.isHTML5&&8===h&&!m.position&&m.isBuffering&&m._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(m)),!0)},this._oncaptiondata=function(t){m.captiondata=t,m._iO.oncaptiondata&&m._iO.oncaptiondata.apply(m,[t])},this._onmetadata=function(t,e){var a,n,i={};for(a=0,n=t.length;a<n;a++)i[t[a]]=e[a];m.metadata=i,m._iO.onmetadata&&m._iO.onmetadata.apply(m)},this._onid3=function(t,e){var a,n,i=[];for(a=0,n=t.length;a<n;a++)i[t[a]]=e[a];m.id3=f(m.id3,i),m._iO.onid3&&m._iO.onid3.apply(m)},this._onconnect=function(t){t=1===t,(m.connected=t)&&(m.failures=0,V(m.id)&&(m.getAutoPlay()?m.play(e,m.getAutoPlay()):m._iO.autoLoad&&m.load()),m._iO.onconnect&&m._iO.onconnect.apply(m,[t]))},this._ondataerror=function(t){0<m.playState&&m._iO.ondataerror&&m._iO.ondataerror.apply(m)}},D=function(){return ft.body||ft._docElement||ft.getElementsByTagName("div")[0]},r=function(t){return ft.getElementById(t)},f=function(t,a){var n,i,o=t||{};n=a===e?lt.defaultOptions:a;for(i in n)n.hasOwnProperty(i)&&o[i]===e&&(o[i]="object"!=typeof n[i]||null===n[i]?n[i]:f(o[i],n[i]));return o},rt=function(e,a){e.isHTML5||8!==h?a():t.setTimeout(a,0)},m={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},p=function(t,a){var n,i=!0,o=a!==e,s=lt.setupOptions;for(n in t)if(t.hasOwnProperty(n))if("object"!=typeof t[n]||null===t[n]||t[n]instanceof Array||t[n]instanceof RegExp)o&&m[a]!==e?lt[a][n]=t[n]:s[n]!==e?(lt.setupOptions[n]=t[n],lt[n]=t[n]):m[n]===e?i=!1:lt[n]instanceof Function?lt[n].apply(lt,t[n]instanceof Array?t[n]:[t[n]]):lt[n]=t[n];else{if(m[n]!==e)return p(t[n],n);i=!1}return i},et=function(){function e(t){t=Pt.call(t);var e=t.length;return n?(t[1]="on"+t[1],3<e&&t.pop()):3===e&&t.push(!1),t}function a(t,e){var a=t.shift(),o=[i[e]];n?a[o](t[0],t[1]):a[o].apply(a,t)}var n=t.attachEvent,i={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){a(e(arguments),"add")},remove:function(){a(e(arguments),"remove")}}}(),st={abort:o(function(){}),canplay:o(function(){var t,a=this._s;if(a._html5_canplay)return!0;if(a._html5_canplay=!0,a._onbufferchange(0),t=a._iO.position===e||isNaN(a._iO.position)?null:a._iO.position/1e3,a.position&&this.currentTime!==t)try{this.currentTime=t}catch(n){}a._iO._oncanplay&&a._iO._oncanplay()}),canplaythrough:o(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),ended:o(function(){this._s._onfinish()}),error:o(function(){this._s._onload(!1)}),loadeddata:o(function(){var t=this._s;!t._loaded&&!Nt&&(t.duration=t._get_html5_duration())}),loadedmetadata:o(function(){}),loadstart:o(function(){this._s._onbufferchange(1)}),play:o(function(){this._s._onbufferchange(0)}),playing:o(function(){this._s._onbufferchange(0)}),progress:o(function(t){var e,a,n=this._s,i=0,i=t.target.buffered;e=t.loaded||0;var o=t.total||1;if(n.buffered=[],i&&i.length){for(e=0,a=i.length;e<a;e++)n.buffered.push({start:1e3*i.start(e),end:1e3*i.end(e)});i=1e3*(i.end(0)-i.start(0)),e=Math.min(1,i/(1e3*t.target.duration))}isNaN(e)||(n._onbufferchange(0),n._whileloading(e,o,n._get_html5_duration()),e&&o&&e===o&&st.canplaythrough.call(this,t))}),ratechange:o(function(){}),suspend:o(function(t){var e=this._s;st.progress.call(this,t),e._onsuspend()}),stalled:o(function(){}),timeupdate:o(function(){this._s._onTimer()}),waiting:o(function(){this._s._onbufferchange(1)})},Q=function(t){return!(!t||!(t.type||t.url||t.serverURL))&&(!(t.serverURL||t.type&&i(t.type))&&(t.type?G({type:t.type}):G({url:t.url})||lt.html5Only||t.url.match(/data\:/i)))},K=function(t){var e;return t&&(e=Nt&&!Et?null:Ft?"about:blank":null,t.src=e,void 0!==t._called_unload&&(t._called_load=!1)),Dt&&(at=null),e},G=function(t){if(!lt.useHTML5Audio||!lt.hasHTML5)return!1;var a=t.url||null;t=t.type||null;var n,o=lt.audioFormats;if(t&&lt.html5[t]!==e)return lt.html5[t]&&!i(t);if(!J){J=[];for(n in o)o.hasOwnProperty(n)&&(J.push(n),o[n].related&&(J=J.concat(o[n].related)));J=RegExp("\\.("+J.join("|")+")(\\?.*)?$","i")}return n=a?a.toLowerCase().match(J):null,n&&n.length?n=n[1]:t&&(a=t.indexOf(";"),n=(-1!==a?t.substr(0,a):t).substr(6)),n&&lt.html5[n]!==e?a=lt.html5[n]&&!i(n):(t="audio/"+n,a=lt.html5.canPlayType({type:t}),a=(lt.html5[n]=a)&&lt.html5[t]&&!i(t)),a},tt=function(){function t(t){var e,a,n=e=!1;if(!o||"function"!=typeof o.canPlayType)return e;if(t instanceof Array){for(e=0,a=t.length;e<a;e++)(lt.html5[t[e]]||o.canPlayType(t[e]).match(lt.html5Test))&&(n=!0,lt.html5[t[e]]=!0,lt.flash[t[e]]=!!t[e].match(Wt));e=n}else t=!(!o||"function"!=typeof o.canPlayType)&&o.canPlayType(t),e=!(!t||!t.match(lt.html5Test));return e}if(!lt.useHTML5Audio||!lt.hasHTML5)return Ot=lt.html5.usingFlash=!0,!1;var a,n,i,o=Audio!==e?Ht&&10>opera.version()?new Audio(null):new Audio:null,s={};i=lt.audioFormats;for(a in i)if(i.hasOwnProperty(a)&&(n="audio/"+a,s[a]=t(i[a].type),s[n]=s[a],a.match(Wt)?(lt.flash[a]=!0,lt.flash[n]=!0):(lt.flash[a]=!1,lt.flash[n]=!1),i[a]&&i[a].related))for(n=i[a].related.length-1;0<=n;n--)s["audio/"+i[a].related[n]]=s[a],lt.html5[i[a].related[n]]=s[a],lt.flash[i[a].related[n]]=s[a];return s.canPlayType=o?t:null,lt.html5=f(lt.html5,s),lt.html5.usingFlash=$(),Ot=lt.html5.usingFlash,!0},w={},F=function(){},B=function(t){return 8===h&&1<t.loops&&t.stream&&(t.stream=!1),t},U=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(t.usePolicyFile=!0),t},l=function(){return!1},A=function(t){for(var e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=l)},N=function(t){t===e&&(t=!1),(_t||t)&&lt.disable(t)},H=function(t){var e=null;if(t)if(t.match(/\.swf(\?.*)?$/i)){if(e=t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return t=(t&&-1!==t.lastIndexOf("/")?t.substr(0,t.lastIndexOf("/")+1):"./")+lt.movieURL,lt.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},b=function(){h=parseInt(lt.flashVersion,10),8!==h&&9!==h&&(lt.flashVersion=h=8);var t=lt.debugMode||lt.debugFlash?"_debug.swf":".swf";lt.useHTML5Audio&&!lt.html5Only&&lt.audioFormats.mp4.required&&9>h&&(lt.flashVersion=h=9),lt.version=lt.versionNumber+(lt.html5Only?" (HTML5-only mode)":9===h?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<h?(lt.defaultOptions=f(lt.defaultOptions,lt.flash9Options),lt.features.buffering=!0,lt.defaultOptions=f(lt.defaultOptions,lt.movieStarOptions),lt.filePatterns.flash9=RegExp("\\.(mp3|"+Yt.join("|")+")(\\?.*)?$","i"),lt.features.movieStar=!0):lt.features.movieStar=!1,lt.filePattern=lt.filePatterns[8!==h?"flash9":"flash8"],lt.movieURL=(8===h?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),lt.features.peakData=lt.features.waveformData=lt.features.eqData=8<h},I=function(t,e){return!!dt&&void dt._setPolling(t,e)},k=function(){},V=this.getSoundById,j=function(){var t=[];return lt.debugMode&&t.push("sm2_debug"),lt.debugFlash&&t.push("flash_debug"),lt.useHighPerformance&&t.push("high_performance"),t.join(" ")},R=function(){F("fbHandler");var t=lt.getMoviePercent(),e={type:"FLASHBLOCK"};return!lt.html5Only&&void(lt.ok()?lt.oMC&&(lt.oMC.className=[j(),"movieContainer","swf_loaded"+(lt.didFlashBlock?" swf_unblocked":"")].join(" ")):(Ot&&(lt.oMC.className=j()+" movieContainer "+(null===t?"swf_timedout":"swf_error")),lt.didFlashBlock=!0,y({type:"ontimeout",ignoreInit:!0,error:e}),E(e)))},g=function(t,a,n){pt[t]===e&&(pt[t]=[]),pt[t].push({method:a,scope:n||null,fired:!1})},y=function(t){if(t||(t={type:lt.ok()?"onready":"ontimeout"}),!yt&&t&&!t.ignoreInit||"ontimeout"===t.type&&(lt.ok()||_t&&!t.ignoreInit))return!1;var e,a={success:t&&t.ignoreInit?lt.ok():!_t},n=t&&t.type?pt[t.type]||[]:[],i=[],a=[a],o=Ot&&!lt.ok();for(t.error&&(a[0].error=t.error),t=0,e=n.length;t<e;t++)!0!==n[t].fired&&i.push(n[t]);if(i.length)for(t=0,e=i.length;t<e;t++)i[t].scope?i[t].method.apply(i[t].scope,a):i[t].method.apply(this,a),o||(i[t].fired=!0);return!0},_=function(){t.setTimeout(function(){lt.useFlashBlock&&R(),y(),"function"==typeof lt.onload&&lt.onload.apply(t),lt.waitForWindowLoad&&et.add(t,"load",_)},1)},it=function(){if(nt!==e)return nt;var a,n=!1,i=navigator,o=i.plugins,s=t.ActiveXObject;if(o&&o.length)(i=i.mimeTypes)&&i["application/x-shockwave-flash"]&&i["application/x-shockwave-flash"].enabledPlugin&&i["application/x-shockwave-flash"].enabledPlugin.description&&(n=!0);else if(s!==e&&!ht.match(/MSAppHost/i)){try{a=new s("ShockwaveFlash.ShockwaveFlash")}catch(r){a=null}n=!!a}return nt=n},$=function(){var t,e,a=lt.audioFormats;if(Et&&ht.match(/os (1|2|3_0|3_1)/i)?(lt.hasHTML5=!1,lt.html5Only=!0,lt.oMC&&(lt.oMC.style.display="none")):!lt.useHTML5Audio||lt.html5&&lt.html5.canPlayType||(lt.hasHTML5=!1),lt.useHTML5Audio&&lt.hasHTML5)for(e in Y=!0,a)a.hasOwnProperty(e)&&a[e].required&&(lt.html5.canPlayType(a[e].type)?lt.preferFlash&&(lt.flash[e]||lt.flash[a[e].type])&&(t=!0):(Y=!1,t=!0));return lt.ignoreFlash&&(t=!1,Y=!0),lt.html5Only=lt.hasHTML5&&lt.useHTML5Audio&&!t,!lt.html5Only},z=function(t){var e,a,n=0;if(t instanceof Array){for(e=0,a=t.length;e<a;e++)if(t[e]instanceof Object){if(lt.canPlayMIME(t[e].type)){n=e;break}}else if(lt.canPlayURL(t[e])){n=e;break}t[n].url&&(t[n]=t[n].url),t=t[n]}return t},W=function(t){t._hasTimer||(t._hasTimer=!0,!Rt&&lt.html5PollingInterval&&(null===Mt&&0===Tt&&(Mt=setInterval(q,lt.html5PollingInterval)),Tt++))},X=function(t){t._hasTimer&&(t._hasTimer=!1,!Rt&&lt.html5PollingInterval&&Tt--)},q=function(){var t;if(null!==Mt&&!Tt)return clearInterval(Mt),Mt=null,!1;for(t=lt.soundIDs.length-1;0<=t;t--)lt.sounds[lt.soundIDs[t]].isHTML5&&lt.sounds[lt.soundIDs[t]]._hasTimer&&lt.sounds[lt.soundIDs[t]]._onTimer()},E=function(a){a=a!==e?a:{},"function"==typeof lt.onerror&&lt.onerror.apply(t,[{type:a.type!==e?a.type:null}]),a.fatal!==e&&a.fatal&&lt.disable()},ot=function(){if(!jt||!it())return!1;var t,e,a=lt.audioFormats;for(e in a)if(a.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(lt.html5[e]=!1,a[e]&&a[e].related))for(t=a[e].related.length-1;0<=t;t--)lt.html5[a[e].related[t]]=!1},this._setSandboxType=function(t){},this._externalInterfaceOK=function(t){return!lt.swfLoaded&&(lt.swfLoaded=!0,Ut=!1,jt&&ot(),void setTimeout(d,kt?100:1))},L=function(t,a){function n(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(mt&&gt)return!1;if(lt.html5Only)return b(),lt.oMC=r(lt.movieID),d(),gt=mt=!0,!1;var i,o,s,l=a||lt.url,u=lt.altURL||l,h=D(),c=j(),f=null,f=ft.getElementsByTagName("html")[0],f=f&&f.dir&&f.dir.match(/rtl/i);if(t=t===e?lt.id:t,b(),lt.url=H(Xt?l:u),a=lt.url,lt.wmode=!lt.wmode&&lt.useHighPerformance?"transparent":lt.wmode,null!==lt.wmode&&(ht.match(/msie 8/i)||!kt&&!lt.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(xt.push(w.spcWmode),lt.wmode=null),h={name:t,id:t,src:a,quality:"high",allowScriptAccess:lt.allowScriptAccess,bgcolor:lt.bgColor,pluginspage:qt+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:lt.wmode,hasPriority:"true"},lt.debugFlash&&(h.FlashVars="debug=1"),lt.wmode||delete h.wmode,kt)l=ft.createElement("div"),o=['<object id="'+t+'" data="'+a+'" type="'+h.type+'" title="'+h.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+qt+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',n("movie",a),n("AllowScriptAccess",lt.allowScriptAccess),n("quality",h.quality),lt.wmode?n("wmode",lt.wmode):"",n("bgcolor",lt.bgColor),n("hasPriority","true"),lt.debugFlash?n("FlashVars",h.FlashVars):"","</object>"].join("");else for(i in l=ft.createElement("embed"),h)h.hasOwnProperty(i)&&l.setAttribute(i,h[i]);if(k(),c=j(),h=D())if(lt.oMC=r(lt.movieID)||ft.createElement("div"),lt.oMC.id)s=lt.oMC.className,lt.oMC.className=(s?s+" ":"movieContainer")+(c?" "+c:""),lt.oMC.appendChild(l),kt&&(i=lt.oMC.appendChild(ft.createElement("div")),i.className="sm2-object-box",i.innerHTML=o),gt=!0;else{if(lt.oMC.id=lt.movieID,lt.oMC.className="movieContainer "+c,i=c=null,lt.useFlashBlock||(lt.useHighPerformance?c={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(c={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},f&&(c.left=Math.abs(parseInt(c.left,10))+"px"))),At&&(lt.oMC.style.zIndex=1e4),!lt.debugFlash)for(s in c)c.hasOwnProperty(s)&&(lt.oMC.style[s]=c[s]);try{kt||lt.oMC.appendChild(l),h.appendChild(lt.oMC),kt&&(i=lt.oMC.appendChild(ft.createElement("div")),i.className="sm2-object-box",i.innerHTML=o),gt=!0}catch(p){throw Error(F("domError")+" \n"+p.toString())}}return mt=!0},T=function(){return lt.html5Only?(L(),!1):!(dt||!lt.url)&&(dt=lt.getMovie(lt.id),dt||(St?(kt?lt.oMC.innerHTML=bt:lt.oMC.appendChild(St),St=null,mt=!0):L(lt.id,lt.url),dt=lt.getMovie(lt.id)),"function"==typeof lt.oninitmovie&&setTimeout(lt.oninitmovie,1),!0)},v=function(){setTimeout(S,1e3)},S=function(){var e,a=!1;return!(!lt.url||Ct)&&(Ct=!0,et.remove(t,"load",v),!(Ut&&!Bt)&&(yt||(e=lt.getMoviePercent(),0<e&&100>e&&(a=!0)),void setTimeout(function(){return e=lt.getMoviePercent(),a?(Ct=!1,t.setTimeout(v,1),!1):void(!yt&&Vt&&(null===e?lt.useFlashBlock||0===lt.flashLoadTimeout?lt.useFlashBlock&&R():!lt.useFlashBlock&&Y?t.setTimeout(function(){lt.setup({preferFlash:!1}).reboot(),lt.didFlashBlock=!0,lt.beginDelayedInit()},1):y({type:"ontimeout",ignoreInit:!0}):0!==lt.flashLoadTimeout&&N(!0)))},lt.flashLoadTimeout)))},C=function(){return Bt||!Ut?(et.remove(t,"focus",C),!0):(Bt=Vt=!0,Ct=!1,v(),et.remove(t,"focus",C),!0)},c=function(e){if(yt)return!1;if(lt.html5Only)return yt=!0,_(),!0;var a,n=!0;return lt.useFlashBlock&&lt.flashLoadTimeout&&!lt.getMoviePercent()||(yt=!0,_t&&(a={type:!nt&&Ot?"NO_FLASH":"INIT_TIMEOUT"})),(_t||e)&&(lt.useFlashBlock&&lt.oMC&&(lt.oMC.className=j()+" "+(null===lt.getMoviePercent()?"swf_timedout":"swf_error")),y({type:"ontimeout",error:a,ignoreInit:!0}),E(a),n=!1),_t||(lt.waitForWindowLoad&&!vt?et.add(t,"load",_):_()),n},u=function(){var t,a=lt.setupOptions;for(t in a)a.hasOwnProperty(t)&&(lt[t]===e?lt[t]=a[t]:lt[t]!==a[t]&&(lt.setupOptions[t]=lt[t]))},d=function(){if(yt)return!1;if(lt.html5Only)return yt||(et.remove(t,"load",lt.beginDelayedInit),lt.enabled=!0,c()),!0;T();try{dt._externalInterfaceTest(!1),I(!0,lt.flashPollingInterval||(lt.useHighPerformance?10:50)),lt.debugMode||dt._disableDebug(),lt.enabled=!0,lt.html5Only||et.add(t,"unload",l)}catch(e){return E({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),N(!0),c(),!1}return c(),et.remove(t,"load",lt.beginDelayedInit),!0},x=function(){return!P&&(P=!0,u(),k(),!nt&&lt.hasHTML5&&lt.setup({useHTML5Audio:!0,preferFlash:!1}),tt(),!nt&&Ot&&(xt.push(w.needFlash),lt.setup({flashLoadTimeout:1})),ft.removeEventListener&&ft.removeEventListener("DOMContentLoaded",x,!1),T(),!0)},Z=function(){return"complete"===ft.readyState&&(x(),ft.detachEvent("onreadystatechange",Z)),!0},O=function(){vt=!0,et.remove(t,"load",O)},M=function(){Rt&&(lt.setupOptions.useHTML5Audio=!0,lt.setupOptions.preferFlash=!1,Et||It&&!ht.match(/android\s2\.3/i))&&(Et&&(lt.ignoreFlash=!0),Dt=!0)},M(),it(),et.add(t,"focus",C),et.add(t,"load",v),et.add(t,"load",O),ft.addEventListener?ft.addEventListener("DOMContentLoaded",x,!1):ft.attachEvent?ft.attachEvent("onreadystatechange",Z):E({type:"NO_DOM2_EVENTS",fatal:!0})}var n=null;void 0!==t.SM2_DEFER&&SM2_DEFER||(n=new a),t.SoundManager=a,t.soundManager=n}(window);var threeSixtyPlayer,ThreeSixtyPlayer;!function(t){function e(){var e=this,a=this,n=soundManager,i=navigator.userAgent,o=i.match(/msie/i),s=i.match(/opera/i),r=i.match(/safari/i),l=i.match(/chrome/i),u=(i.match(/firefox/i),i.match(/ipad|iphone/i)),d="undefined"==typeof t.G_vmlCanvasManager&&"undefined"!=typeof document.createElement("canvas").getContext("2d"),h=s||l?359.9:360;this.excludeClass="threesixty-exclude",this.links=[],this.sounds=[],this.soundsByURL=[],this.indexByURL=[],this.lastSound=null,this.lastTouchedSound=null,this.soundCount=0,this.oUITemplate=null,this.oUIImageMap=null,this.vuMeter=null,this.callbackCount=0,this.peakDataHistory=[],this.config={playNext:!1,autoPlay:!1,allowMultiple:!1,loadRingColor:"#ccc",playRingColor:"#000",backgroundRingColor:"#eee",segmentRingColor:"rgba(255,255,255,0.33)",segmentRingColorAlt:"rgba(0,0,0,0.1)",loadRingColorMetadata:"#ddd",playRingColorMetadata:"rgba(128,192,256,0.9)",circleDiameter:null,circleRadius:null,animDuration:500,animTransition:t.Animator.tx.bouncy,showHMSTime:!1,scaleFont:!0,useWaveformData:!1,waveformDataColor:"#0099ff",waveformDataDownsample:3,waveformDataOutside:!1,waveformDataConstrain:!1,waveformDataLineRatio:.64,useEQData:!1,eqDataColor:"#339933",eqDataDownsample:4,eqDataOutside:!0,eqDataLineRatio:.54,usePeakData:!0,peakDataColor:"#ff33ff",peakDataOutside:!0,peakDataLineRatio:.5,useAmplifier:!0,fontSizeMax:null,scaleArcWidth:1,useFavIcon:!1},this.css={sDefault:"sm2_link",sBuffering:"sm2_buffering",sPlaying:"sm2_playing",sPaused:"sm2_paused"},this.addEventHandler="undefined"!=typeof t.addEventListener?function(t,e,a){return t.addEventListener(e,a,!1)}:function(t,e,a){t.attachEvent("on"+e,a)},this.removeEventHandler="undefined"!=typeof t.removeEventListener?function(t,e,a){return t.removeEventListener(e,a,!1)}:function(t,e,a){return t.detachEvent("on"+e,a)},this.hasClass=function(t,e){return"undefined"!=typeof t.className&&t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},this.addClass=function(t,a){return!(!t||!a||e.hasClass(t,a))&&void(t.className=(t.className?t.className+" ":"")+a)},this.removeClass=function(t,a){return!!(t&&a&&e.hasClass(t,a))&&void(t.className=t.className.replace(new RegExp("( "+a+")|("+a+")","g"),""))},this.getElementsByClassName=function(t,a,n){var i,o,s=n||document,r=[],l=[];if("undefined"!=typeof a&&"string"!=typeof a)for(i=a.length;i--;)l&&l[a[i]]||(l[a[i]]=s.getElementsByTagName(a[i]));else l=a?s.getElementsByTagName(a):s.all||s.getElementsByTagName("*");if("string"!=typeof a)for(i=a.length;i--;)for(o=l[a[i]].length;o--;)e.hasClass(l[a[i]][o],t)&&r.push(l[a[i]][o]);else for(i=0;i<l.length;i++)e.hasClass(l[i],t)&&r.push(l[i]);return r},this.getParentByNodeName=function(t,e){if(!t||!e)return!1;for(e=e.toLowerCase();t.parentNode&&e!==t.parentNode.nodeName.toLowerCase();)t=t.parentNode;return t.parentNode&&e===t.parentNode.nodeName.toLowerCase()?t.parentNode:null},this.getParentByClassName=function(t,a){if(!t||!a)return!1;for(;t.parentNode&&!e.hasClass(t.parentNode,a);)t=t.parentNode;return t.parentNode&&e.hasClass(t.parentNode,a)?t.parentNode:null},this.getSoundByURL=function(t){return"undefined"!=typeof e.soundsByURL[t]?e.soundsByURL[t]:null},this.isChildOfNode=function(t,e){if(!t||!t.parentNode)return!1;e=e.toLowerCase();do t=t.parentNode;while(t&&t.parentNode&&t.nodeName.toLowerCase()!==e);return t&&t.nodeName.toLowerCase()===e?t:null},this.isChildOfClass=function(t,a){if(!t||!a)return!1;for(;t.parentNode&&!e.hasClass(t,a);)t=e.findParent(t);return e.hasClass(t,a)},this.findParent=function(t){if(!t||!t.parentNode)return!1;if(t=t.parentNode,2===t.nodeType)for(;t&&t.parentNode&&2===t.parentNode.nodeType;)t=t.parentNode;return t},this.getStyle=function(e,a){try{if(e.currentStyle)return e.currentStyle[a];if(t.getComputedStyle)return document.defaultView.getComputedStyle(e,null).getPropertyValue(a)}catch(n){}return null},this.findXY=function(t){var e=0,a=0;do e+=t.offsetLeft,a+=t.offsetTop;while(t=t.offsetParent);return[e,a]},this.getMouseXY=function(a){return a=a?a:t.event,u&&a.touches&&(a=a.touches[0]),a.pageX||a.pageY?[a.pageX,a.pageY]:a.clientX||a.clientY?[a.clientX+e.getScrollLeft(),a.clientY+e.getScrollTop()]:void 0},this.getScrollLeft=function(){return document.body.scrollLeft+document.documentElement.scrollLeft},this.getScrollTop=function(){return document.body.scrollTop+document.documentElement.scrollTop},this.events={play:function(){a.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className=a.css.sPlaying,a.addClass(this._360data.oUIBox,this._360data.className),e.fanOut(this)},stop:function(){a.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className="",e.fanIn(this)},pause:function(){a.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className=a.css.sPaused,a.addClass(this._360data.oUIBox,this._360data.className)},resume:function(){a.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className=a.css.sPlaying,a.addClass(this._360data.oUIBox,this._360data.className)},finish:function(){var t;a.removeClass(this._360data.oUIBox,this._360data.className),this._360data.className="",this._360data.didFinish=!0,e.fanIn(this),a.config.playNext&&(t=a.indexByURL[this._360data.oLink.href]+1,t<a.links.length&&a.handleClick({target:a.links[t]}))},whileloading:function(){this.paused&&e.updatePlaying.apply(this)},whileplaying:function(){e.updatePlaying.apply(this),this._360data.fps++},bufferchange:function(){this.isBuffering?a.addClass(this._360data.oUIBox,a.css.sBuffering):a.removeClass(this._360data.oUIBox,a.css.sBuffering)}},this.stopEvent=function(e){return"undefined"!=typeof e&&"undefined"!=typeof e.preventDefault?e.preventDefault():"undefined"!=typeof t.event&&"undefined"!=typeof t.event.returnValue&&(t.event.returnValue=!1),!1},this.getTheDamnLink=o?function(e){return e&&e.target?e.target:t.event.srcElement}:function(t){return t.target},this.handleClick=function(a){if(a.button>1)return!0;var i,o,s,r,l,u,d=e.getTheDamnLink(a);return"a"!==d.nodeName.toLowerCase()&&!(d=e.isChildOfNode(d,"a"))||(!e.isChildOfClass(d,"ui360")||(i=d.getAttribute("href"),!(d.href&&n.canPlayLink(d)&&!e.hasClass(d,e.excludeClass))||(n._writeDebug("handleClick()"),o=d.href,s=e.getSoundByURL(o),s?s===e.lastSound?s.togglePause():(s.togglePause(),n._writeDebug("sound different than last sound: "+e.lastSound.id),!e.config.allowMultiple&&e.lastSound&&e.stopSound(e.lastSound)):(r=d.parentNode,l=e.getElementsByClassName("ui360-vis","div",r.parentNode).length,s=n.createSound({id:"ui360Sound"+e.soundCount++,url:o,onplay:e.events.play,onstop:e.events.stop,onpause:e.events.pause,onresume:e.events.resume,onfinish:e.events.finish,onbufferchange:e.events.bufferchange,type:d.type||null,whileloading:e.events.whileloading,whileplaying:e.events.whileplaying,useWaveformData:l&&e.config.useWaveformData,useEQData:l&&e.config.useEQData,usePeakData:l&&e.config.usePeakData}),u=parseInt(e.getElementsByClassName("sm2-360ui","div",r)[0].offsetWidth,10),
s._360data={oUI360:e.getParentByClassName(d,"ui360"),oLink:d,className:e.css.sPlaying,oUIBox:e.getElementsByClassName("sm2-360ui","div",r)[0],oCanvas:e.getElementsByClassName("sm2-canvas","canvas",r)[0],oButton:e.getElementsByClassName("sm2-360btn","span",r)[0],oTiming:e.getElementsByClassName("sm2-timing","div",r)[0],oCover:e.getElementsByClassName("sm2-cover","div",r)[0],circleDiameter:u,circleRadius:u/2,lastTime:null,didFinish:null,pauseCount:0,radius:0,fontSize:1,fontSizeMax:e.config.fontSizeMax,scaleFont:l&&e.config.scaleFont,showHMSTime:l,amplifier:l&&e.config.usePeakData?.9:1,radiusMax:.175*u,width:0,widthMax:.4*u,lastValues:{bytesLoaded:0,bytesTotal:0,position:0,durationEstimate:0},animating:!1,oAnim:new t.Animator({duration:e.config.animDuration,transition:e.config.animTransition,onComplete:function(){}}),oAnimProgress:function(t){var a=this;a._360data.radius=parseInt(a._360data.radiusMax*a._360data.amplifier*t,10),a._360data.width=parseInt(a._360data.widthMax*a._360data.amplifier*t,10),a._360data.scaleFont&&null!==a._360data.fontSizeMax&&(a._360data.oTiming.style.fontSize=parseInt(Math.max(1,a._360data.fontSizeMax*t),10)+"px",a._360data.oTiming.style.opacity=t),(a.paused||0===a.playState||0===a._360data.lastValues.bytesLoaded||0===a._360data.lastValues.position)&&e.updatePlaying.apply(a)},fps:0},"undefined"!=typeof e.Metadata&&e.getElementsByClassName("metadata","div",s._360data.oUI360).length&&(s._360data.metadata=new e.Metadata(s,e)),s._360data.scaleFont&&null!==s._360data.fontSizeMax&&(s._360data.oTiming.style.fontSize="1px"),s._360data.oAnim.addSubject(s._360data.oAnimProgress,s),e.refreshCoords(s),e.updatePlaying.apply(s),e.soundsByURL[o]=s,e.sounds.push(s),!e.config.allowMultiple&&e.lastSound&&e.stopSound(e.lastSound),s.play()),e.lastSound=s,"undefined"!=typeof a&&"undefined"!=typeof a.preventDefault?a.preventDefault():"undefined"!=typeof t.event&&(t.event.returnValue=!1),!1)))},this.fanOut=function(a){var n=a;return 1!==n._360data.animating&&(n._360data.animating=0,soundManager._writeDebug("fanOut: "+n.id+": "+n._360data.oLink.href),n._360data.oAnim.seekTo(1),void t.setTimeout(function(){n._360data.animating=0},e.config.animDuration+20))},this.fanIn=function(a){var n=a;return n._360data.animating!==-1&&(n._360data.animating=-1,soundManager._writeDebug("fanIn: "+n.id+": "+n._360data.oLink.href),n._360data.oAnim.seekTo(0),void t.setTimeout(function(){n._360data.didFinish=!1,n._360data.animating=0,e.resetLastValues(n)},e.config.animDuration+20))},this.resetLastValues=function(t){t._360data.lastValues.position=0},this.refreshCoords=function(t){t._360data.canvasXY=e.findXY(t._360data.oCanvas),t._360data.canvasMid=[t._360data.circleRadius,t._360data.circleRadius],t._360data.canvasMidXY=[t._360data.canvasXY[0]+t._360data.canvasMid[0],t._360data.canvasXY[1]+t._360data.canvasMid[1]]},this.stopSound=function(t){soundManager._writeDebug("stopSound: "+t.id),soundManager.stop(t.id),u||soundManager.unload(t.id)},this.buttonClick=function(a){var n=a?a.target?a.target:a.srcElement:t.event.srcElement;return e.handleClick({target:e.getParentByClassName(n,"sm2-360ui").nextSibling}),!1},this.buttonMouseDown=function(t){return u?e.addEventHandler(document,"touchmove",e.mouseDown):document.onmousemove=function(t){e.mouseDown(t)},e.stopEvent(t),!1},this.mouseDown=function(a){if(!u&&a.button>1)return!0;if(!e.lastSound)return e.stopEvent(a),!1;var n,i,o,s=a?a:t.event;return u&&s.touches&&(s=s.touches[0]),n=s.target||s.srcElement,i=e.getSoundByURL(e.getElementsByClassName("sm2_link","a",e.getParentByClassName(n,"ui360"))[0].href),e.lastTouchedSound=i,e.refreshCoords(i),o=i._360data,e.addClass(o.oUIBox,"sm2_dragging"),o.pauseCount=e.lastTouchedSound.paused?1:0,e.mmh(a?a:t.event),u?(e.removeEventHandler(document,"touchmove",e.mouseDown),e.addEventHandler(document,"touchmove",e.mmh),e.addEventHandler(document,"touchend",e.mouseUp)):(document.onmousemove=e.mmh,document.onmouseup=e.mouseUp),e.stopEvent(a),!1},this.mouseUp=function(t){var a=e.lastTouchedSound._360data;e.removeClass(a.oUIBox,"sm2_dragging"),0===a.pauseCount&&e.lastTouchedSound.resume(),u?(e.removeEventHandler(document,"touchmove",e.mmh),e.removeEventHandler(document,"touchend",e.mouseUP)):(document.onmousemove=null,document.onmouseup=null)},this.mmh=function(a){"undefined"==typeof a&&(a=t.event);var n=e.lastTouchedSound,i=e.getMouseXY(a),o=i[0],s=i[1],r=o-n._360data.canvasMidXY[0],l=s-n._360data.canvasMidXY[1],u=Math.floor(h-(e.rad2deg(Math.atan2(r,l))+180));return n.setPosition(n.durationEstimate*(u/h)),e.stopEvent(a),!1},this.drawSolidArc=function(t,a,n,i,o,l,u){var d,h,c,f,p=t;p.getContext&&(d=p.getContext("2d")),t=d,u||e.clearCanvas(p),a&&(d.fillStyle=a),t.beginPath(),isNaN(o)&&(o=0),h=n-i,c=s||r,(!c||c&&n>0)&&(t.arc(0,0,n,l,o,!1),f=e.getArcEndpointCoords(h,o),t.lineTo(f.x,f.y),t.arc(0,0,h,o,l,!0),t.closePath(),t.fill())},this.getArcEndpointCoords=function(t,e){return{x:t*Math.cos(e),y:t*Math.sin(e)}},this.deg2rad=function(t){return t*Math.PI/180},this.rad2deg=function(t){return 180*t/Math.PI},this.getTime=function(t,e){var a=Math.floor(t/1e3),n=Math.floor(a/60),i=a-60*n;return e?n+":"+(i<10?"0"+i:i):{min:n,sec:i}},this.clearCanvas=function(t){var e,a,n=t,i=null;n.getContext&&(i=n.getContext("2d")),e=n.offsetWidth,a=n.offsetHeight,i.clearRect(-(e/2),-(a/2),e,a)},this.updatePlaying=function(){var t=this._360data.showHMSTime?e.getTime(this.position,!0):parseInt(this.position/1e3,10),a=e.config.scaleArcWidth;this.bytesLoaded&&(this._360data.lastValues.bytesLoaded=this.bytesLoaded,this._360data.lastValues.bytesTotal=this.bytesTotal),this.position&&(this._360data.lastValues.position=this.position),this.durationEstimate&&(this._360data.lastValues.durationEstimate=this.durationEstimate),e.drawSolidArc(this._360data.oCanvas,e.config.backgroundRingColor,this._360data.width,this._360data.radius*a,e.deg2rad(h),!1),e.drawSolidArc(this._360data.oCanvas,this._360data.metadata?e.config.loadRingColorMetadata:e.config.loadRingColor,this._360data.width,this._360data.radius*a,e.deg2rad(h*(this._360data.lastValues.bytesLoaded/this._360data.lastValues.bytesTotal)),0,!0),0!==this._360data.lastValues.position&&e.drawSolidArc(this._360data.oCanvas,this._360data.metadata?e.config.playRingColorMetadata:e.config.playRingColor,this._360data.width,this._360data.radius*a,e.deg2rad(1===this._360data.didFinish?h:h*(this._360data.lastValues.position/this._360data.lastValues.durationEstimate)),0,!0),this._360data.metadata&&this._360data.metadata.events.whileplaying(),t!==this._360data.lastTime&&(this._360data.lastTime=t,this._360data.oTiming.innerHTML=t),(this.instanceOptions.useWaveformData||this.instanceOptions.useEQData)&&d&&e.updateWaveform(this),e.config.useFavIcon&&e.vuMeter&&e.vuMeter.updateVU(this)},this.updateWaveform=function(t){if(!e.config.useWaveformData&&!e.config.useEQData||!n.features.waveformData&&!n.features.eqData)return!1;if(!t.waveformData.left.length&&!t.eqData.length&&!t.peakData.left)return!1;var a,i,o,s,r,l,u,d,h,c,f,p,m,g,y,_,v=(t._360data.oCanvas.getContext("2d"),parseInt(t._360data.circleDiameter/2,10)),S=v/2;if(e.config.useWaveformData)for(s=e.config.waveformDataDownsample,s=Math.max(1,s),r=256,l=r/s,u=0,d=0,h=null,c=e.config.waveformDataOutside?1:e.config.waveformDataConstrain?.5:.565,S=e.config.waveformDataOutside?.7:.75,f=e.deg2rad(360/l*e.config.waveformDataLineRatio),a=0;a<r;a+=s)u=e.deg2rad(360*(a/l*1/s)),d=u+f,h=t.waveformData.left[a],h<0&&e.config.waveformDataConstrain&&(h=Math.abs(h)),e.drawSolidArc(t._360data.oCanvas,e.config.waveformDataColor,t._360data.width*c*(2-e.config.scaleArcWidth),t._360data.radius*S*1.25*h,d,u,!0);if(e.config.useEQData)for(s=e.config.eqDataDownsample,p=0,s=Math.max(1,s),m=192,l=m/s,c=e.config.eqDataOutside?1:.565,o=e.config.eqDataOutside?-1:1,S=e.config.eqDataOutside?.5:.75,u=0,d=0,f=e.deg2rad(360/l*e.config.eqDataLineRatio),g=e.deg2rad(1===t._360data.didFinish?360:360*(t._360data.lastValues.position/t._360data.lastValues.durationEstimate)),i=0,y=0,a=0;a<m;a+=s)u=e.deg2rad(360*(a/m)),d=u+f,e.drawSolidArc(t._360data.oCanvas,d>g?e.config.eqDataColor:e.config.playRingColor,t._360data.width*c,t._360data.radius*S*(t.eqData.left[a]*o),d,u,!0);if(e.config.usePeakData&&!t._360data.animating){for(_=t.peakData.left||t.peakData.right,m=3,a=0;a<m;a++)_=_||t.eqData[a];t._360data.amplifier=e.config.useAmplifier?.9+.1*_:1,t._360data.radiusMax=.175*t._360data.circleDiameter*t._360data.amplifier,t._360data.widthMax=.4*t._360data.circleDiameter*t._360data.amplifier,t._360data.radius=parseInt(t._360data.radiusMax*t._360data.amplifier,10),t._360data.width=parseInt(t._360data.widthMax*t._360data.amplifier,10)}},this.getUIHTML=function(t){return['<canvas class="sm2-canvas" width="'+t+'" height="'+t+'"></canvas>',' <span class="sm2-360btn sm2-360btn-default"></span>',' <div class="sm2-timing'+(navigator.userAgent.match(/safari/i)?" alignTweak":"")+'"></div>',' <div class="sm2-cover"></div>']},this.uiTest=function(t){var a,n,i,o,s,r,l,u,d,h=document.createElement("div");return h.className="sm2-360ui",a=document.createElement("div"),a.className="ui360"+(t?" "+t:""),n=a.appendChild(h.cloneNode(!0)),a.style.position="absolute",a.style.left="-9999px",i=document.body.appendChild(a),o=n.offsetWidth,s=e.getUIHTML(o),n.innerHTML=s[1]+s[2]+s[3],r=parseInt(n.offsetWidth,10),l=parseInt(r/2,10),d=e.getElementsByClassName("sm2-timing","div",i)[0],u=parseInt(e.getStyle(d,"font-size"),10),isNaN(u)&&(u=null),a.parentNode.removeChild(a),s=a=n=i=null,{circleDiameter:r,circleRadius:l,fontSizeMax:u}},this.init=function(){n._writeDebug("threeSixtyPlayer.init()");var a,i,s,r,l,d,h,c,f,p,m,g,y,_,v=e.getElementsByClassName("ui360","div"),S=[],b=!1,C=0;for(a=0,i=v.length;a<i;a++)S.push(v[a].getElementsByTagName("a")[0]),v[a].style.backgroundImage="none";for(e.oUITemplate=document.createElement("div"),e.oUITemplate.className="sm2-360ui",e.oUITemplateVis=document.createElement("div"),e.oUITemplateVis.className="sm2-360ui",c=e.uiTest(),e.config.circleDiameter=c.circleDiameter,e.config.circleRadius=c.circleRadius,f=e.uiTest("ui360-vis"),e.config.fontSizeMax=f.fontSizeMax,e.oUITemplate.innerHTML=e.getUIHTML(e.config.circleDiameter).join(""),e.oUITemplateVis.innerHTML=e.getUIHTML(f.circleDiameter).join(""),a=0,i=S.length;a<i;a++)!n.canPlayLink(S[a])||e.hasClass(S[a],e.excludeClass)||e.hasClass(S[a],e.css.sDefault)||(e.addClass(S[a],e.css.sDefault),e.links[C]=S[a],e.indexByURL[S[a].href]=C,C++,b=e.hasClass(S[a].parentNode,"ui360-vis"),d=(b?f:c).circleDiameter,h=(b?f:c).circleRadius,p=S[a].parentNode.insertBefore((b?e.oUITemplateVis:e.oUITemplate).cloneNode(!0),S[a]),o&&"undefined"!=typeof t.G_vmlCanvasManager?(g=S[a].parentNode,y=document.createElement("canvas"),y.className="sm2-canvas",_="sm2_canvas_"+parseInt(1048576*Math.random(),10),y.id=_,y.width=d,y.height=d,p.appendChild(y),t.G_vmlCanvasManager.initElement(y),s=document.getElementById(_)):s=S[a].parentNode.getElementsByTagName("canvas")[0],l=e.getElementsByClassName("sm2-cover","div",S[a].parentNode)[0],m=S[a].parentNode.getElementsByTagName("span")[0],e.addEventHandler(m,"click",e.buttonClick),u?e.addEventHandler(l,"touchstart",e.mouseDown):e.addEventHandler(l,"mousedown",e.mouseDown),r=s.getContext("2d"),r.translate(h,h),r.rotate(e.deg2rad(-90)));C>0&&(e.addEventHandler(document,"click",e.handleClick),e.config.autoPlay&&e.handleClick({target:e.links[0],preventDefault:function(){}})),n._writeDebug("threeSixtyPlayer.init(): Found "+C+" relevant items."),e.config.useFavIcon&&"undefined"!=typeof this.VUMeter&&(this.vuMeter=new this.VUMeter(this))}}e.prototype.VUMeter=function(t){var e=t,a=this,n=document.getElementsByTagName("head")[0],i=navigator.userAgent.match(/opera/i),o=navigator.userAgent.match(/firefox/i);this.vuMeterData=[],this.vuDataCanvas=null,this.setPageIcon=function(t){if(!e.config.useFavIcon||!e.config.usePeakData||!t)return!1;var a=document.getElementById("sm2-favicon");a&&(n.removeChild(a),a=null),a||(a=document.createElement("link"),a.id="sm2-favicon",a.rel="shortcut icon",a.type="image/png",a.href=t,document.getElementsByTagName("head")[0].appendChild(a))},this.resetPageIcon=function(){if(!e.config.useFavIcon)return!1;var t=document.getElementById("favicon");t&&(t.href="/favicon.ico")},this.updateVU=function(t){soundManager.flashVersion>=9&&e.config.useFavIcon&&e.config.usePeakData&&a.setPageIcon(a.vuMeterData[parseInt(16*t.peakData.left,10)][parseInt(16*t.peakData.right,10)])},this.createVUData=function(){var t=0,e=0,n=a.vuDataCanvas.getContext("2d"),i=n.createLinearGradient(0,16,0,0),o=n.createLinearGradient(0,16,0,0),s="rgba(0,0,0,0.2)";for(i.addColorStop(0,"rgb(0,192,0)"),i.addColorStop(.3,"rgb(0,255,0)"),i.addColorStop(.625,"rgb(255,255,0)"),i.addColorStop(.85,"rgb(255,0,0)"),o.addColorStop(0,s),o.addColorStop(1,"rgba(0,0,0,0.5)"),t=0;t<16;t++)a.vuMeterData[t]=[];for(t=0;t<16;t++)for(e=0;e<16;e++)a.vuDataCanvas.setAttribute("width",16),a.vuDataCanvas.setAttribute("height",16),n.fillStyle=o,n.fillRect(0,0,7,15),n.fillRect(8,0,7,15),n.fillStyle=i,n.fillRect(0,15-t,7,16-(16-t)),n.fillRect(8,15-e,7,16-(16-e)),n.clearRect(0,3,16,1),n.clearRect(0,7,16,1),n.clearRect(0,11,16,1),a.vuMeterData[t][e]=a.vuDataCanvas.toDataURL("image/png")},this.testCanvas=function(){var t,e=document.createElement("canvas"),a=null;if(!e||"undefined"==typeof e.getContext)return null;if(a=e.getContext("2d"),!a||"function"!=typeof e.toDataURL)return null;try{t=e.toDataURL("image/png")}catch(n){return null}return e},this.init=function(){e.config.useFavIcon&&(a.vuDataCanvas=a.testCanvas(),a.vuDataCanvas&&(o||i)?a.createVUData():e.config.useFavIcon=!1)},this.init()},e.prototype.Metadata=function(t,e){soundManager._wD("Metadata()");var a,n,i=this,o=t._360data.oUI360,s=o.getElementsByTagName("ul")[0],r=s.getElementsByTagName("li");navigator.userAgent.match(/firefox/i);for(this.lastWPExec=0,this.refreshInterval=250,this.totalTime=0,this.events={whileplaying:function(){var a,n,o,s=t._360data.width,r=t._360data.radius,l=t.durationEstimate||1e3*i.totalTime,u=null;for(a=0,n=i.data.length;a<n;a++)u=a%2===0,e.drawSolidArc(t._360data.oCanvas,u?e.config.segmentRingColorAlt:e.config.segmentRingColor,u?s:s,u?r/2:r/2,e.deg2rad(360*(i.data[a].endTimeMS/l)),e.deg2rad(360*((i.data[a].startTimeMS||1)/l)),!0);o=new Date,o-i.lastWPExec>i.refreshInterval&&(i.refresh(),i.lastWPExec=o)}},this.refresh=function(){var e,a,n=null,i=t.position,o=t._360data.metadata.data;for(e=0,a=o.length;e<a;e++)if(i>=o[e].startTimeMS&&i<=o[e].endTimeMS){n=e;break}n!==o.currentItem&&n<o.length&&(t._360data.oLink.innerHTML=o.mainTitle+' <span class="metadata"><span class="sm2_divider"> | </span><span class="sm2_metadata">'+o[n].title+"</span></span>",o.currentItem=n)},this.strToTime=function(t){var e,a=t.split(":"),n=0;for(e=a.length;e--;)n+=parseInt(a[e],10)*Math.pow(60,a.length-1-e);return n},this.data=[],this.data.givenDuration=null,this.data.currentItem=null,this.data.mainTitle=t._360data.oLink.innerHTML,a=0;a<r.length;a++)this.data[a]={o:null,title:r[a].getElementsByTagName("p")[0].innerHTML,startTime:r[a].getElementsByTagName("span")[0].innerHTML,startSeconds:i.strToTime(r[a].getElementsByTagName("span")[0].innerHTML.replace(/[()]/g,"")),duration:0,durationMS:null,startTimeMS:null,endTimeMS:null,oNote:null};for(n=e.getElementsByClassName("duration","div",o),this.data.givenDuration=n.length?1e3*i.strToTime(n[0].innerHTML):0,a=0;a<this.data.length;a++)this.data[a].duration=parseInt(this.data[a+1]?this.data[a+1].startSeconds:(i.data.givenDuration?i.data.givenDuration:t.durationEstimate)/1e3,10)-this.data[a].startSeconds,this.data[a].startTimeMS=1e3*this.data[a].startSeconds,this.data[a].durationMS=1e3*this.data[a].duration,this.data[a].endTimeMS=this.data[a].startTimeMS+this.data[a].durationMS,this.totalTime+=this.data[a].duration},navigator.userAgent.match(/webkit/i)&&navigator.userAgent.match(/mobile/i)&&soundManager.setup({useHTML5Audio:!0}),soundManager.setup({html5PollingInterval:50,debugMode:t.location.href.match(/debug=1/i),consoleOnly:!0,flashVersion:9,useHighPerformance:!0,useFlashBlock:!0}),soundManager.debugMode&&t.setInterval(function(){var e=t.threeSixtyPlayer;e&&e.lastSound&&e.lastSound._360data.fps&&"undefined"==typeof t.isHome&&(soundManager._writeDebug("fps: ~"+e.lastSound._360data.fps),e.lastSound._360data.fps=0)},1e3),t.ThreeSixtyPlayer=e}(window),threeSixtyPlayer=new ThreeSixtyPlayer,soundManager.onready(threeSixtyPlayer.init),$(function(){$("@soundmanager-play").on("click",function(){var t=$(this);t.css("display","none"),t.siblings(".ui360").removeClass("hidden"),t.siblings(".ui360").children("@soundmanager-display")[0].click()})}),soundManager.setup({url:"/console/bundles/soundmanager/swf/",preferFlash:!1,useFlashBlock:!0}),threeSixtyPlayer.config.scaleFont=!navigator.userAgent.match(/msie/i),threeSixtyPlayer.config.showHMSTime=!0,threeSixtyPlayer.config.playRingColor="#444444",threeSixtyPlayer.config.circleDiameter=20,threeSixtyPlayer.config.circleRadius=5,threeSixtyPlayer.config.useWaveformData=!1,threeSixtyPlayer.config.useEQData=!1,threeSixtyPlayer.config.usePeakData=!1,threeSixtyPlayer.config.useAmplifier=!1;
//# sourceMappingURL=soundmanager.js.map
